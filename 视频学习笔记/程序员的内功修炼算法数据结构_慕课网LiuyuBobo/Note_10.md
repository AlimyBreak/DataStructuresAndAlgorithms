+ [慕课网连接](https://coding.imooc.com/class/chapter/71.html)
+ 程序员的内功修炼算法数据结构

#   第七章：图论一(Graph Theory)
+ 图论研究的是这样一种数学模型：__节点__和__边__构成。
+ 节点(Vertex) 
+ 边(Edge)
+ 应用领域：交通运输，社交网络，互联网，工作安排，脑区活动，程序状态执行（自动机）
+ 图的分类:无向图(Undirected Graph)，有向图(Directed Graph),就是看边有没有方向的概念
+ 此套课程以__无向图__为主，无向图是一种特殊的有向图.
+ 图的分类：无权图(unweighted Graph)和有权图(weighted Graph),__边是否有数值属性__
+ 图的__连通性__：所有节点是否都至少有一个通路连接
+ 简单图(simple Graph):没有自环边和平行边.
  + 自环边(self-loop)
  + 平行边(parallel-edges)
  + 自环边和平行边不会影响图的连通性。

***

## 用代码来表示图

+ 1. __邻接矩阵__(Adjacency Matrix),无向图：0表示不连接，1表示连接，n*n的矩阵，邻接矩阵来表示无向图和有向图；

+ 2. __邻接表__(Adjacency Lists):每一行只表达与该点想连接的节点标号；

+ 3. 选邻接矩阵还是邻接表？按具体情况具体分析，邻接表适合表示稀疏图(Sparse Graph)，边比较少，邻接矩阵适合表示稠密图(Dense Graph)，边比较多

+ __稀疏图__:平均边数远远小于节点总数(可以有的最大边数)

+ __稠密图__:趋近完全图（任意两个点之间都有边连接）

  ***

  

## 遍历邻边

用一个点如何遍历他的邻边？

邻边表：$O(v)$

邻边矩阵：O(1)

利用迭代器封装，将两种方式封装成统一接口。

遍历测试结果:

```C
/*
SparseGraph:
0:16   11   14   7   10   9   11   3   16   
1:4   1   1   18   12   8   17   12   16   
2:5   16   13   7   8   6   8   4   3   14   
3:6   7   5   6   14   14   17   16   4   5   2   0   16   15   
4:8   1   12   17   17   5   14   7   18   3   2   4   
5:2   3   7   4   6   3   12   19   11   10   
6:7   3   3   5   2   12   10   14   13   
7:6   3   5   18   0   2   12   4   12   18   11   
8:8   4   18   8   15   2   1   2   13   9   
9:15   16   0   17   8   
10:17   15   17   16   0   11   12   6   5   
11:0   16   14   10   14   5   0   13   7   
12:15   4   16   7   1   5   7   10   6   1   17   
13:2   15   8   13   15   11   6   
14:18   0   3   16   11   3   14   4   17   11   6   2   
15:19   12   9   10   8   13   16   13   3   
16:0   11   2   10   12   14   18   3   19   9   19   15   3   0   1   
17:10   10   4   4   3   14   9   1   12   
18:14   7   8   16   1   4   19   7   
19:15   5   16   16   18   
edge nums = 193
SparseGraph:
0:1   2   3   7   10   11   13   14   18   19   
1:0   4   5   9   11   15   17   18   
2:0   10   12   14   17   
3:0   4   5   7   8   10   11   12   13   14   17   18   
4:1   3   5   7   9   11   15   16   18   
5:1   3   4   5   6   9   15   17   
6:5   10   11   12   18   19   
7:0   3   4   9   12   13   16   17   
8:3   18   19   
9:1   4   5   7   11   18   
10:0   2   3   6   10   
11:0   1   3   4   6   9   13   14   15   17   18   
12:2   3   6   7   12   14   17   18   
13:0   3   7   11   16   17   19   
14:0   2   3   11   12   15   18   19   
15:1   4   5   11   14   16   17   18   
16:4   7   13   15   18   19   
17:1   2   3   5   7   11   12   13   15   
18:0   1   3   4   6   8   9   11   12   14   15   16   
19:0   6   8   13   14   16   
edge nums = 155
*/
```

结果显示：稠密图支持平行边，稀疏图节点的遍历序号是有序的。

***

图的封装:

从文件读取图,稠密图和稀疏图都要支持：ReadGraph.h

测试结果:

```C
/*
I am a SparseGraph!
vertex 0:	0	
vertex 1:	1	
vertex 2:	2	
vertex 3:	3	
vertex 4:	4	
vertex 5:	5	
vertex 6:	6	
vertex 7:	7	
vertex 8:	8	
vertex 9:	9	
I am a DenseGraph!
vertex 0:	0	
vertex 1:	1	
vertex 2:	2	
vertex 3:	3	
vertex 4:	4	
vertex 5:	5	
vertex 6:	6	
vertex 7:	7	
vertex 8:	8	
vertex 9:	9	
*/
```





## 图的遍历

### 1.深度优先遍历(DFS)

 + 和树的遍历类似，但和树不一样的是，图中可能存在环，我们需要记录每一个点是否被遍历过了，若已经被遍历过了，则不重复进行遍历。

 + 应用场景:求一张图中的"连通分量"。

 + 测试结果

   ```C
   /*
   testG2.txt ,SparseGraph Component Count :10
   testG2.txt ,DenseGraph  Component Count :10
   */
   ```

+ 两个节点是否相连：新增一个数组，同一个联通图中的节点取同一个值。



### 2.寻路(获得两点间的一条路径)

+ 在遍历的过程中存储路径即可???,增加一个父亲节点的记录数组。

  ```c
  /*
  0 -->  1 -->  2 -->  3 -->  4 -->  5
  0 -->  1 -->  2 -->  3 -->  4 -->  5 -->  6 -->  7 -->  8
  */
  ```

+ 深度优先遍历的复杂度:

  + 稀疏图(邻接表):$O(V+E)$,$V$是頂點數，$E$是邊沿數；
  + 稠密圖(鄰接矩陣):$O(V^2)$，$V$是頂點數，需要掃描所有元素。

+ 深度優先遍歷算法對有向圖依然有效。

+ 練習内容(todo)：判斷有向圖中是否有環。





### 3.广度优先遍历和最短路径

+ 广度优先遍历(BFS,层序遍历,先遍历到的点离源点的举例越近)
  
  + 需要队列作为辅助结构，待访问即入队列，已访问就出队列。
  
  + 广度优先遍历求出了无权图的最短路径。
  
    ```C
    /*
    SparseGraph DFS:
    0 -->  1 -->  2 -->  3 -->  4 -->  5 -->  6
    DenseGraph DFS:
    0 -->  1 -->  2 -->  3 -->  4 -->  5 -->  6 -->  7
    SparseGraph BFS:4
    0 -->  9 -->  8 -->  7 -->  6
    DenseGraph BFS:3
    0 -->  9 -->  8 -->  7
    
    */
    ```
  
+ 广度优先搜索的时间复杂度：

  + 稀疏图(邻接表):$O(V+E)$,$V$是頂點數，$E$是邊沿數；

  + 稠密圖(鄰接矩陣):$O(V^2)$，$V$是頂點數，需要掃描所有元素。

+ 其他：多条最短路径，动态规划。



### 4.缺少内容

+ 7-8 迷宫生成，PS抠图——更多无权图的应用

